<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="author" content="Ifeanyi Joseph 08072500911,07043936131">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SwiftInvoice</title>
  <link rel="stylesheet" href="./src/output.css">
</head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MT213CNFN1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-MT213CNFN1');
</script>
<body class="bg-gray-50 font-sans text-gray-900">

  <!-- Top Navbar -->
  <nav class="bg-white shadow-sm h-16 flex items-center justify-between px-6 sticky top-0 z-50">
    <h1 class="text-xl text-gray-900"><b>Swift</b>Invoice</h1>
    <div class="flex items-center space-x-3">
      <button id="saveInvoiceBtn" class="bg-emerald-500 hover:bg-emerald-600 text-white px-2 py-1 rounded-lg">Save Invoice</button>
      <button id="downloadPdfBtn" class="bg-emerald-500 hover:bg-emerald-600 text-white px-2 py-1 rounded-lg">Download PDF</button>
      <button id="historyBtn" class="bg-gray-300 text-gray-500 px-2 py-1 rounded-lg">History</button>
    </div>
  </nav>

  <!-- Main Layout -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6 p-6">

    <!-- Left Column: Invoice Form -->
    <div class="md:col-span-2 space-y-6">

      <!-- Business Info Card -->
      <div class="bg-white p-6 rounded-xl shadow-sm space-y-4">
        <h2 class="text-lg font-semibold text-gray-900">Business Info</h2>
        <input id="businessName" type="text" placeholder="Business Name" class="w-full p-2 border border-gray-200 rounded-lg" />
        <input id="businessPhone" type="text" placeholder="Phone" class="w-full p-2 border border-gray-200 rounded-lg" />
        <input id="businessAddress" type="text" placeholder="Address" class="w-full p-2 border border-gray-200 rounded-lg" />
      </div>

      <!-- Client Info Card -->
      <div class="bg-white p-6 rounded-xl shadow-sm space-y-4">
        <h2 class="text-lg font-semibold text-gray-900">Client Info</h2>
        <input id="clientName" type="text" placeholder="Client Name" class="w-full p-2 border border-gray-200 rounded-lg" />
        <input id="clientPhone" type="text" placeholder="Phone" class="w-full p-2 border border-gray-200 rounded-lg" />
        <input id="clientAddress" type="text" placeholder="Address" class="w-full p-2 border border-gray-200 rounded-lg" />
      </div>

      <!-- Items Table Card -->
      <div class="bg-white p-6 rounded-xl shadow-sm">
        <h2 class="text-lg font-semibold text-gray-900 mb-4">Invoice Items</h2>
        <div class="overflow-x-auto">
          <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-100">
              <tr>
                <th class="px-4 py-2 text-left text-gray-700">Item</th>
                <th class="px-4 py-2 text-left text-gray-700">Qty</th>
                <th class="px-4 py-2 text-left text-gray-700">Price</th>
                <th class="px-4 py-2 text-left text-gray-700">Total</th>
                <th class="px-4 py-2 text-left text-gray-700">Remove</th>
              </tr>
            </thead>
            <tbody id="itemsTableBody" class="divide-y divide-gray-200">
              <!-- JS will populate items here -->
            </tbody>
          </table>
        </div>
        <button id="addItemBtn" class="mt-4 bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-lg">+ Add Item</button>
      </div>

      <!-- Summary Card -->
      <div class="bg-white p-6 rounded-xl shadow-sm space-y-4 max-w-md">
        <h2 class="text-lg font-semibold text-gray-900">Summary</h2>
        <div class="flex justify-between">
          <span>Subtotal</span>
          <span id="subtotalAmount" class="font-semibold"> </span>
        </div>
        <div class="flex justify-between items-center">
          <span>Tax (%)</span>
          <input id="taxRate" type="number" value="0" class="w-20 p-1 border border-gray-200 rounded-lg text-right"/>
        </div>
        <div class="flex justify-between items-center">
          <span>Discount</span>
          <input id="discountAmount" type="number" value="0" class="w-20 p-1 border border-gray-200 rounded-lg text-right"/>
        </div>
        <div class="flex justify-between text-xl font-bold border-t pt-2">
          <span>Total</span>
          <span id="totalAmount"> </span>
        </div>
      </div>

    </div>

    <!-- Right Column: Invoice Preview -->
    <div class="md:col-span-1">
      <div class="bg-white p-6 rounded-xl shadow-sm sticky top-20">
        <h2 class="text-lg font-semibold text-gray-900 mb-4">Invoice Preview</h2>
        <p> Invoice No:  <span id="previewInvoiceNumber" class="font-semibold"> </span></p>
        <p> Issue Date:  <span id="previewIssueDate" class="font-semibold">  </span></p>
        <p> Due Date:  <span id="previewDueDate" class="font-semibold">  </span></p>
        <br>
        <div class="border border-gray-200 p-4 rounded-lg space-y-2">
          <div id="previewBusinessName" class="font-bold text-lg">Business Name</div>
          <div id="previewBusinessAddress" class="text-gray-500 text-sm">Business Address</div>
          <div id="previewBusinessPhone" class="text-gray-500 text-sm">Business Phone</div>
          <hr class="my-2 border-gray-200" />
          <div class="font-semibold">Bill To:</div>
          <div id="previewClientName" class="text-gray-500 text-sm">Client Name </div>
          <div id="previewClientAddress" class="text-gray-500 text-sm">Client Address</div>
          <div id="previewClientPhone" class="text-gray-500 text-sm">Client Phone</div>
          <hr class="my-2 border-gray-200" />
          <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-100">
              <tr>
                <th class="px-2 py-1 text-left text-gray-700">Item</th>
                <th class="px-2 py-1 text-left text-gray-700">Qty</th>
                <th class="px-2 py-1 text-left text-gray-700">Price</th>
                <th class="px-2 py-1 text-left text-gray-700">Total</th>
              </tr>
            </thead>
            <tbody id="previewItemsBody">
              <!-- JS will populate items here -->
            </tbody>
          </table>
          <hr class="my-2 border-gray-200" />
          <div class="flex justify-between font-bold">
            <span>Total</span>
            <span id="previewTotal"> </span>
          </div>
        </div>
      </div>
    </div>

  </div>

  <!-- JavaScript Files -->
  <!-- Load jsPDF library for PDF generation -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  
  <!-- Load our application modules in order -->
  <script src="./js/state.js"></script>
  <script src="./js/calculations.js"></script>
  <script src="./js/storage.js"></script>
  <script src="./js/pdf.js"></script>
  <script src="./js/ui.js"></script>
  <script src="./js/main.js"></script>
</body>
</html>